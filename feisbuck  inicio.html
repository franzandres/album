<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Feisbuk - Feed con 1 millón comentarios por post</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
  }
  header {
    background: #0d47a1;
    color: white;
    padding: 15px 20px;
    font-size: 24px;
  }
  main {
    max-width: 700px;
    margin: 20px auto;
    padding: 0 10px 40px 10px;
  }
  .post {
    background: #1e1e1e;
    border-radius: 10px;
    margin-bottom: 25px;
    padding: 15px;
  }
  .post-header {
    font-weight: bold;
    margin-bottom: 10px;
  }
  .post-media {
    max-width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
  }
  .post-description {
    margin-bottom: 10px;
  }
  .comments-list {
    background: #333;
    border-radius: 8px;
    padding: 10px;
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 10px;
  }
  .comment {
    padding: 5px 0;
    border-bottom: 1px solid #444;
  }
  .loading {
    text-align: center;
    color: #64b5f6;
    font-weight: bold;
  }
</style>
</head>
<body>

<header>Feisbuk - Inicio</header>
<main id="feed"></main>

<script>
  const posts = [
    {
      id: 1,
      usuario: "Ana Martínez",
      tipo: "foto",
      src: "https://picsum.photos/id/1015/600/400",
      descripcion: "Un día maravilloso en la playa.",
      totalComentarios: 500000
    },
    {
      id: 2,
      usuario: "Carlos Gómez",
      tipo: "video",
      src: "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm",
      descripcion: "Mira este atardecer increíble.",
      totalComentarios: 1000000
    }
  ];

  function crearPost(post) {
    const postDiv = document.createElement('div');
    postDiv.className = 'post';

    // Header
    const header = document.createElement('div');
    header.className = 'post-header';
    header.textContent = post.usuario;
    postDiv.appendChild(header);

    // Media
    let mediaElement;
    if(post.tipo === 'foto') {
      mediaElement = document.createElement('img');
      mediaElement.src = post.src;
      mediaElement.alt = `Foto de ${post.usuario}`;
      mediaElement.className = 'post-media';
    } else if(post.tipo === 'video') {
      mediaElement = document.createElement('video');
      mediaElement.src = post.src;
      mediaElement.controls = true;
      mediaElement.className = 'post-media';
    }
    postDiv.appendChild(mediaElement);

    // Descripción
    const desc = document.createElement('p');
    desc.className = 'post-description';
    desc.textContent = post.descripcion;
    postDiv.appendChild(desc);

    // Contenedor comentarios
    const commentsList = document.createElement('div');
    commentsList.className = 'comments-list';
    postDiv.appendChild(commentsList);

    // Loading mensaje
    const loadingDiv = document.createElement('div');
    loadingDiv.className = 'loading';
    loadingDiv.textContent = "Cargando comentarios...";
    postDiv.appendChild(loadingDiv);

    const batchSize = 50;
    let loadedComments = 0;

    function cargarComentarios() {
      if (loadedComments >= post.totalComentarios) {
        loadingDiv.textContent = "Todos los comentarios cargados";
        return;
      }
      loadingDiv.style.display = "block";
      setTimeout(() => {
        for(let i = 0; i < batchSize && loadedComments < post.totalComentarios; i++, loadedComments++) {
          const commentDiv = document.createElement('div');
          commentDiv.className = 'comment';
          commentDiv.textContent = `Comentario #${loadedComments + 1} - Usuario${(loadedComments % 1000) + 1}: Comentario simulado.`;
          commentsList.appendChild(commentDiv);
        }
        if (loadedComments >= post.totalComentarios) {
          loadingDiv.textContent = "Todos los comentarios cargados";
        } else {
          loadingDiv.style.display = "none";
        }
      }, 200);
    }

    commentsList.addEventListener('scroll', () => {
      if(commentsList.scrollTop + commentsList.clientHeight >= commentsList.scrollHeight - 10) {
        cargarComentarios();
      }
    });

    cargarComentarios();

    return postDiv;
  }

  const feed = document.getElementById('feed');
  posts.forEach(post => feed.appendChild(crearPost(post)));
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Feisbuk - Feed + Galería 470 fotos</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
  }
  header {
    background: #0d47a1;
    color: white;
    padding: 15px 20px;
    font-size: 24px;
    text-align: center;
  }
  main {
    display: flex;
    max-width: 1200px;
    margin: 20px auto;
    gap: 20px;
    padding: 0 10px;
  }
  /* Galería */
  #galeria {
    width: 320px;
    height: 80vh;
    background: #1e1e1e;
    border-radius: 10px;
    overflow-y: auto;
    padding: 10px;
  }
  #galeria h2 {
    margin-top: 0;
    margin-bottom: 10px;
    border-bottom: 1px solid #444;
    padding-bottom: 5px;
  }
  .foto-mini {
    width: 90px;
    height: 90px;
    margin: 5px;
    object-fit: cover;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.2s ease;
  }
  .foto-mini:hover {
    transform: scale(1.1);
  }
  .fotos-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }

  /* Feed */
  #feed {
    flex: 1 1 auto;
    max-width: 800px;
  }
  .post {
    background: #1e1e1e;
    border-radius: 10px;
    margin-bottom: 25px;
    padding: 15px;
  }
  .post-header {
    font-weight: bold;
    margin-bottom: 10px;
  }
  .post-media {
    max-width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
  }
  .post-description {
    margin-bottom: 10px;
  }
  .comments-list {
    background: #333;
    border-radius: 8px;
    padding: 10px;
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 10px;
  }
  .comment {
    padding: 5px 0;
    border-bottom: 1px solid #444;
  }
  .loading {
    text-align: center;
    color: #64b5f6;
    font-weight: bold;
  }

  /* Modal imagen */
  #modalImagen {
    display: none;
    position: fixed;
    z-index: 2000;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.85);
    justify-content: center;
    align-items: center;
  }
  #modalImagen img {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
    box-shadow: 0 0 20px #0d47a1;
  }
  #modalImagen:active {
    display: none;
  }
</style>
</head>
<body>

<header>Feisbuk - Feed + Galería 470 Fotos</header>

<main>
  <section id="galeria">
    <h2>Galería (470 fotos)</h2>
    <div class="fotos-container" id="fotosContainer"></div>
  </section>

  <section id="feed"></section>
</main>

<!-- Modal para imagen ampliada -->
<div id="modalImagen">
  <img src="" alt="Imagen ampliada" />
</div>

<script>
  // Simular URLs de 470 fotos con picsum.photos (usamos IDs distintos para variedad)
  const totalFotos = 470;
  const fotosURLs = [];
  for(let i = 0; i < totalFotos; i++) {
    // Usamos IDs del 10 al 479 para no repetir el 0-9 (puedes cambiar por tus URLs)
    fotosURLs.push(`https://picsum.photos/id/${10 + i}/150/150`);
  }

  const fotosContainer = document.getElementById('fotosContainer');
  const modalImagen = document.getElementById('modalImagen');
  const modalImg = modalImagen.querySelector('img');

  // Mostrar miniaturas en la galería
  fotosURLs.forEach(url => {
    const img = document.createElement('img');
    img.src = url;
    img.alt = "Foto miniatura";
    img.className = 'foto-mini';
    img.loading = "lazy";
    img.addEventListener('click', () => {
      modalImg.src = url.replace('/150/150', '/800/600'); // Mostrar en tamaño más grande
      modalImagen.style.display = 'flex';
    });
    fotosContainer.appendChild(img);
  });

  // Cerrar modal al hacer click afuera de la imagen
  modalImagen.addEventListener('click', (e) => {
    if (e.target === modalImagen) {
      modalImagen.style.display = 'none';
      modalImg.src = '';
    }
  });

  // Feed con publicaciones y comentarios progresivos
  const posts = [
    {
      id: 1,
      usuario: "Ana Martínez",
      tipo: "foto",
      src: "https://picsum.photos/id/1015/600/400",
      descripcion: "Un día maravilloso en la playa.",
      totalComentarios: 500000
    },
    {
      id: 2,
      usuario: "Carlos Gómez",
      tipo: "video",
      src: "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm",
      descripcion: "Mira este atardecer increíble.",
      totalComentarios: 1000000
    }
  ];

  function crearPost(post) {
    const postDiv = document.createElement('div');
    postDiv.className = 'post';

    // Header
    const header = document.createElement('div');
    header.className = 'post-header';
    header.textContent = post.usuario;
    postDiv.appendChild(header);

    // Media
    let mediaElement;
    if(post.tipo === 'foto') {
      mediaElement = document.createElement('img');
      mediaElement.src = post.src;
      mediaElement.alt = `Foto de ${post.usuario}`;
      mediaElement.className = 'post-media';
    } else if(post.tipo === 'video') {
      mediaElement = document.createElement('video');
      mediaElement.src = post.src;
      mediaElement.controls = true;
      mediaElement.className = 'post-media';
    }
    postDiv.appendChild(mediaElement);

    // Descripción
    const desc = document.createElement('p');
    desc.className = 'post-description';
    desc.textContent = post.descripcion;
    postDiv.appendChild(desc);

    // Contenedor comentarios
    const commentsList = document.createElement('div');
    commentsList.className = 'comments-list';
    postDiv.appendChild(commentsList);

    // Loading mensaje
    const loadingDiv = document.createElement('div');
    loadingDiv.className = 'loading';
    loadingDiv.textContent = "Cargando comentarios...";
    postDiv.appendChild(loadingDiv);

    const batchSize = 50;
    let loadedComments = 0;

    function cargarComentarios() {
      if (loadedComments >= post.totalComentarios) {
        loadingDiv.textContent = "Todos los comentarios cargados";
        return;
      }
      loadingDiv.style.display = "block";
      setTimeout(() => {
        for(let i = 0; i < batchSize && loadedComments < post.totalComentarios; i++, loadedComments++) {
          const commentDiv = document.createElement('div');
          commentDiv.className = 'comment';
          commentDiv.textContent = `Comentario #${loadedComments + 1} - Usuario${(loadedComments % 1000) + 1}: Comentario simulado.`;
          commentsList.appendChild(commentDiv);
        }
        if (loadedComments >= post.totalComentarios) {
          loadingDiv.textContent = "Todos los comentarios cargados";
        } else {
          loadingDiv.style.display = "none";
        }
      }, 200);
    }

    commentsList.addEventListener('scroll', () => {
      if(commentsList.scrollTop + commentsList.clientHeight >= commentsList.scrollHeight - 10) {
        cargarComentarios();
      }
    });

    cargarComentarios();

    return postDiv;
  }

  const feed = document.getElementById('feed');
  posts.forEach(post => feed.appendChild(crearPost(post));
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Feisbuk - Feed + Galería 470 Reels</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
  }
  header {
    background: #0d47a1;
    color: white;
    padding: 15px 20px;
    font-size: 24px;
    text-align: center;
  }
  main {
    display: flex;
    max-width: 1200px;
    margin: 20px auto;
    gap: 20px;
    padding: 0 10px;
  }
  /* Galería reels */
  #galeria {
    width: 320px;
    height: 80vh;
    background: #1e1e1e;
    border-radius: 10px;
    overflow-y: auto;
    padding: 10px;
  }
  #galeria h2 {
    margin-top: 0;
    margin-bottom: 10px;
    border-bottom: 1px solid #444;
    padding-bottom: 5px;
  }
  .reel-mini {
    width: 90px;
    height: 160px;
    margin: 5px;
    border-radius: 8px;
    cursor: pointer;
    object-fit: cover;
    background: black;
  }
  .reels-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }

  /* Feed */
  #feed {
    flex: 1 1 auto;
    max-width: 800px;
  }
  .post {
    background: #1e1e1e;
    border-radius: 10px;
    margin-bottom: 25px;
    padding: 15px;
  }
  .post-header {
    font-weight: bold;
    margin-bottom: 10px;
  }
  .post-media {
    max-width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
  }
  .post-description {
    margin-bottom: 10px;
  }
  .comments-list {
    background: #333;
    border-radius: 8px;
    padding: 10px;
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 10px;
  }
  .comment {
    padding: 5px 0;
    border-bottom: 1px solid #444;
  }
  .loading {
    text-align: center;
    color: #64b5f6;
    font-weight: bold;
  }

  /* Modal video reel */
  #modalVideo {
    display: none;
    position: fixed;
    z-index: 2000;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.85);
    justify-content: center;
    align-items: center;
  }
  #modalVideo video {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
    box-shadow: 0 0 20px #0d47a1;
    background: black;
  }
</style>
</head>
<body>

<header>Feisbuk - Feed + Galería 470 Reels</header>

<main>
  <section id="galeria">
    <h2>Galería de Reels (470 videos)</h2>
    <div class="reels-container" id="reelsContainer"></div>
  </section>

  <section id="feed"></section>
</main>

<!-- Modal para video ampliado -->
<div id="modalVideo">
  <video controls autoplay></video>
</div>

<script>
  // Simulación URLs para reels cortos (videos)
  // Usamos clips públicos de sample videos para demo
  // Como ejemplo usaremos un solo video repetido, puedes cambiar los URLs reales

  const reelSrcSample = "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm";

  const totalReels = 470;
  const reelsContainer = document.getElementById('reelsContainer');
  const modalVideo = document.getElementById('modalVideo');
  const videoModalElement = modalVideo.querySelector('video');

  // Crear mini videos para la galería
  for(let i = 0; i < totalReels; i++) {
    const video = document.createElement('video');
    video.src = reelSrcSample;
    video.className = 'reel-mini';
    video.muted = true;
    video.loop = true;
    video.playsInline = true;
    video.autoplay = true;
    video.setAttribute('playsinline', '');
    video.setAttribute('webkit-playsinline', '');

    video.addEventListener('click', () => {
      videoModalElement.src = reelSrcSample; // Aquí podrías poner src individual si tienes distinto por reel
      modalVideo.style.display = 'flex';
      videoModalElement.play();
    });

    reelsContainer.appendChild(video);
  }

  // Cerrar modal al clic fuera del video
  modalVideo.addEventListener('click', (e) => {
    if (e.target === modalVideo) {
      videoModalElement.pause();
      videoModalElement.src = "";
      modalVideo.style.display = 'none';
    }
  });

  // Feed con posts y comentarios (misma lógica que antes)
  const posts = [
    {
      id: 1,
      usuario: "Ana Martínez",
      tipo: "foto",
      src: "https://picsum.photos/id/1015/600/400",
      descripcion: "Un día maravilloso en la playa.",
      totalComentarios: 500000
    },
    {
      id: 2,
      usuario: "Carlos Gómez",
      tipo: "video",
      src: "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm",
      descripcion: "Mira este atardecer increíble.",
      totalComentarios: 1000000
    }
  ];

  function crearPost(post) {
    const postDiv = document.createElement('div');
    postDiv.className = 'post';

    const header = document.createElement('div');
    header.className = 'post-header';
    header.textContent = post.usuario;
    postDiv.appendChild(header);

    let mediaElement;
    if(post.tipo === 'foto') {
      mediaElement = document.createElement('img');
      mediaElement.src = post.src;
      mediaElement.alt = `Foto de ${post.usuario}`;
      mediaElement.className = 'post-media';
    } else if(post.tipo === 'video') {
      mediaElement = document.createElement('video');
      mediaElement.src = post.src;
      mediaElement.controls = true;
      mediaElement.className = 'post-media';
    }
    postDiv.appendChild(mediaElement);

    const desc = document.createElement('p');
    desc.className = 'post-description';
    desc.textContent = post.descripcion;
    postDiv.appendChild(desc);

    const commentsList = document.createElement('div');
    commentsList.className = 'comments-list';
    postDiv.appendChild(commentsList);

    const loadingDiv = document.createElement('div');
    loadingDiv.className = 'loading';
    loadingDiv.textContent = "Cargando comentarios...";
    postDiv.appendChild(loadingDiv);

    const batchSize = 50;
    let loadedComments = 0;

    function cargarComentarios() {
      if (loadedComments >= post.totalComentarios) {
        loadingDiv.textContent = "Todos los comentarios cargados";
        return;
      }
      loadingDiv.style.display = "block";
      setTimeout(() => {
        for(let i = 0; i < batchSize && loadedComments < post.totalComentarios; i++, loadedComments++) {
          const commentDiv = document.createElement('div');
          commentDiv.className = 'comment';
          commentDiv.textContent = `Comentario #${loadedComments + 1} - Usuario${(loadedComments % 1000) + 1}: Comentario simulado.`;
          commentsList.appendChild(commentDiv);
        }
        if (loadedComments >= post.totalComentarios) {
          loadingDiv.textContent = "Todos los comentarios cargados";
        } else {
          loadingDiv.style.display = "none";
        }
      }, 200);
    }

    commentsList.addEventListener('scroll', () => {
      if(commentsList.scrollTop + commentsList.clientHeight >= commentsList.scrollHeight - 10) {
        cargarComentarios();
      }
    });

    cargarComentarios();

    return postDiv;
  }

  const feed = document.getElementById('feed');
  posts.forEach(post => feed.appendChild(crearPost(post)));
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Feisbuk - Estados 100 + Feed + Galería 470 Reels</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
  }
  header {
    background: #0d47a1;
    color: white;
    padding: 15px 20px;
    font-size: 24px;
    text-align: center;
  }
  main {
    display: flex;
    max-width: 1200px;
    margin: 20px auto;
    gap: 20px;
    padding: 0 10px;
  }
  /* Galería reels */
  #galeria {
    width: 320px;
    height: 80vh;
    background: #1e1e1e;
    border-radius: 10px;
    overflow-y: auto;
    padding: 10px;
  }
  #galeria h2 {
    margin-top: 0;
    margin-bottom: 10px;
    border-bottom: 1px solid #444;
    padding-bottom: 5px;
  }
  .reel-mini {
    width: 90px;
    height: 160px;
    margin: 5px;
    border-radius: 8px;
    cursor: pointer;
    object-fit: cover;
    background: black;
  }
  .reels-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }

  /* Estados */
  #estados {
    background: #1e1e1e;
    border-radius: 10px;
    padding: 10px;
    margin-bottom: 20px;
    overflow-x: auto;
    white-space: nowrap;
  }
  .estado {
    display: inline-block;
    width: 80px;
    margin-right: 12px;
    cursor: pointer;
    text-align: center;
  }
  .estado img {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    border: 2px solid #64b5f6;
    object-fit: cover;
    transition: transform 0.2s ease;
  }
  .estado img:hover {
    transform: scale(1.1);
  }
  .estado p {
    margin: 6px 0 0 0;
    font-size: 12px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Feed */
  #feed {
    flex: 1 1 auto;
    max-width: 800px;
  }
  .post {
    background: #1e1e1e;
    border-radius: 10px;
    margin-bottom: 25px;
    padding: 15px;
  }
  .post-header {
    font-weight: bold;
    margin-bottom: 10px;
  }
  .post-media {
    max-width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
  }
  .post-description {
    margin-bottom: 10px;
  }
  .comments-list {
    background: #333;
    border-radius: 8px;
    padding: 10px;
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 10px;
  }
  .comment {
    padding: 5px 0;
    border-bottom: 1px solid #444;
  }
  .loading {
    text-align: center;
    color: #64b5f6;
    font-weight: bold;
  }

  /* Modal video reel */
  #modalVideo {
    display: none;
    position: fixed;
    z-index: 3000;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.85);
    justify-content: center;
    align-items: center;
  }
  #modalVideo video {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
    box-shadow: 0 0 20px #0d47a1;
    background: black;
  }

  /* Modal estado */
  #modalEstado {
    display: none;
    position: fixed;
    z-index: 4000;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.85);
    justify-content: center;
    align-items: center;
    flex-direction: column;
    color: white;
    text-align: center;
  }
  #modalEstado img {
    max-width: 300px;
    max-height: 300px;
    border-radius: 15px;
    margin-bottom: 15px;
  }
  #modalEstado p {
    font-size: 20px;
  }
</style>
</head>
<body>

<header>Feisbuk - Estados 100 + Feed + Galería 470 Reels</header>

<main>
  <section id="galeria">
    <h2>Galería de Reels (470 videos)</h2>
    <div class="reels-container" id="reelsContainer"></div>
  </section>

  <section style="flex:1; max-width: 840px;">

    <section id="estados">
      <!-- Estados cargados aquí -->
    </section>

    <section id="feed"></section>
  </section>
</main>

<!-- Modal para video ampliado -->
<div id="modalVideo">
  <video controls autoplay></video>
</div>

<!-- Modal para estado ampliado -->
<div id="modalEstado" style="display:none; flex;">
  <img src="" alt="Estado ampliado" />
  <p></p>
</div>

<script>
  // --- Estados (100) ---
  const estadosContainer = document.getElementById('estados');
  const modalEstado = document.getElementById('modalEstado');
  const modalEstadoImg = modalEstado.querySelector('img');
  const modalEstadoText = modalEstado.querySelector('p');

  const totalEstados = 100;
  const nombresEstados = [];
  for(let i=1; i<=totalEstados; i++) {
    nombresEstados.push(`Usuario${i}`);
  }

  // Cargar estados
  nombresEstados.forEach((nombre, idx) => {
    const estadoDiv = document.createElement('div');
    estadoDiv.className = 'estado';

    const img = document.createElement('img');
    img.src = `https://picsum.photos/id/${100 + idx}/100/100`;
    img.alt = `Estado de ${nombre}`;

    const p = document.createElement('p');
    p.textContent = nombre;

    estadoDiv.appendChild(img);
    estadoDiv.appendChild(p);

    estadoDiv.addEventListener('click', () => {
      modalEstadoImg.src = img.src.replace('/100/100', '/600/600');
      modalEstadoText.textContent = nombre;
      modalEstado.style.display = 'flex';
    });

    estadosContainer.appendChild(estadoDiv);
  });

  modalEstado.addEventListener('click', (e) => {
    if(e.target === modalEstado) {
      modalEstado.style.display = 'none';
      modalEstadoImg.src = '';
      modalEstadoText.textContent = '';
    }
  });


  // --- Galería de reels (470) ---
  const reelSrcSample = "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm";
  const totalReels = 470;
  const reelsContainer = document.getElementById('reelsContainer');
  const modalVideo = document.getElementById('modalVideo');
  const videoModalElement = modalVideo.querySelector('video');

  for(let i = 0; i < totalReels; i++) {
    const video = document.createElement('video');
    video.src = reelSrcSample;
    video.className = 'reel-mini';
    video.muted = true;
    video.loop = true;
    video.playsInline = true;
    video.autoplay = true;
    video.setAttribute('playsinline', '');
    video.setAttribute('webkit-playsinline', '');

    video.addEventListener('click', () => {
      videoModalElement.src = reelSrcSample;
      modalVideo.style.display = 'flex';
      videoModalElement.play();
    });

    reelsContainer.appendChild(video);
  }

  modalVideo.addEventListener('click', (e) => {
    if (e.target === modalVideo) {
      videoModalElement.pause();
      videoModalElement.src = "";
      modalVideo.style.display = 'none';
    }
  });

  // --- Feed ---
  const posts = [
    {
      id: 1,
      usuario: "Ana Martínez",
      tipo: "foto",
      src: "https://picsum.photos/id/1015/600/400",
      descripcion: "Un día maravilloso en la playa.",
      totalComentarios: 500000
    },
    {
      id: 2,
      usuario: "Carlos Gómez",
      tipo: "video",
      src: "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm",
      descripcion: "Mira este atardecer increíble.",
      totalComentarios: 1000000
    }
  ];

  function crearPost(post) {
    const postDiv = document.createElement('div');
    postDiv.className = 'post';

    const header = document.createElement('div');
    header.className = 'post-header';
    header.textContent = post.usuario;
    postDiv.appendChild(header);

    let mediaElement;
    if(post.tipo === 'foto') {
      mediaElement = document.createElement('img');
      mediaElement.src = post.src;
      mediaElement.alt = `Foto de ${post.usuario}`;
      mediaElement.className = 'post-media';
    } else if(post.tipo === 'video') {
      mediaElement = document.createElement('video');
      mediaElement.src = post.src;
      mediaElement.controls = true;
      mediaElement.className = 'post-media';
    }
    postDiv.appendChild(mediaElement);

    const desc = document.createElement('p');
    desc.className = 'post-description';
    desc.textContent = post.descripcion;
    postDiv.appendChild(desc);

    const commentsList = document.createElement('div');
    commentsList.className = 'comments-list';
    postDiv.appendChild(commentsList);

    const loadingDiv = document.createElement('div');
    loadingDiv.className = 'loading';
    loadingDiv.textContent = "Cargando comentarios...";
    postDiv.appendChild(loadingDiv);

    const batchSize = 50;
    let loadedComments = 0;

    function cargarComentarios() {
      if (loadedComments >= post.totalComentarios) {
        loadingDiv.textContent = "Todos los comentarios cargados";
        return;
      }
      loadingDiv.style.display = "block";
      setTimeout(() => {
        for(let i = 0; i < batchSize && loadedComments < post.totalComentarios; i++, loadedComments++) {
          const commentDiv = document.createElement('div');
          commentDiv.className = 'comment';
          commentDiv.textContent = `Comentario #${loadedComments + 1} - Usuario${(loadedComments % 1000) + 1}: Comentario simulado.`;
          commentsList.appendChild(commentDiv);
        }
        if (loadedComments >= post.totalComentarios) {
          loadingDiv.textContent = "Todos los comentarios cargados";
        } else {
          loadingDiv.style.display = "none";
        }
      }, 200);
    }

    commentsList.addEventListener('scroll', () => {
      if(commentsList.scrollTop + commentsList.clientHeight >= commentsList.scrollHeight - 10) {
        cargarComentarios();
      }
    });

    cargarComentarios();

    return postDiv;
  }

  const feed = document.getElementById('feed');
  posts.forEach(post => feed.appendChild(crearPost(post)));
</script>

</body>
</html>

<!-- Formulario para crear publicación -->
<section id="crearPublicacion" style="background:#1e1e1e; padding:15px; border-radius:10px; margin-bottom:20px;">
  <h3>Crear Publicación</h3>
  <textarea id="textoPublicacion" rows="3" style="width:100%; border-radius:8px; padding:8px;" placeholder="¿Qué estás pensando?"></textarea>
  <input type="file" id="archivoPublicacion" accept="image/*,video/*" style="margin-top:10px;" />
  <div id="previewArchivo" style="margin-top:10px;"></div>
  <button id="btnPublicar" style="margin-top:10px; padding:10px 20px; background:#0d47a1; color:#fff; border:none; border-radius:8px; cursor:pointer;">Publicar</button>
</section>

<script>
  const textoPublicacion = document.getElementById('textoPublicacion');
  const archivoPublicacion = document.getElementById('archivoPublicacion');
  const previewArchivo = document.getElementById('previewArchivo');
  const btnPublicar = document.getElementById('btnPublicar');
  const feed = document.getElementById('feed');

  let archivoURL = null;
  let tipoArchivo = null;

  archivoPublicacion.addEventListener('change', () => {
    const file = archivoPublicacion.files[0];
    previewArchivo.innerHTML = '';
    archivoURL = null;
    tipoArchivo = null;
    if(file) {
      archivoURL = URL.createObjectURL(file);
      if(file.type.startsWith('image/')) {
        tipoArchivo = 'foto';
        const img = document.createElement('img');
        img.src = archivoURL;
        img.style.maxWidth = '100%';
        img.style.borderRadius = '10px';
        previewArchivo.appendChild(img);
      } else if(file.type.startsWith('video/')) {
        tipoArchivo = 'video';
        const video = document.createElement('video');
        video.src = archivoURL;
        video.controls = true;
        video.style.maxWidth = '100%';
        video.style.borderRadius = '10px';
        previewArchivo.appendChild(video);
      } else {
        previewArchivo.textContent = 'Archivo no soportado.';
      }
    }
  });

  btnPublicar.addEventListener('click', () => {
    const texto = textoPublicacion.value.trim();

    if(texto === '' && !archivoURL) {
      alert('Escribe un texto o sube una foto/video para publicar.');
      return;
    }

    // Crear nuevo post dinámico
    const post = document.createElement('div');
    post.className = 'post';

    const header = document.createElement('div');
    header.className = 'post-header';
    header.textContent = 'Tú';
    post.appendChild(header);

    if(tipoArchivo === 'foto') {
      const img = document.createElement('img');
      img.src = archivoURL;
      img.alt = 'Foto subida';
      img.className = 'post-media';
      post.appendChild(img);
    } else if(tipoArchivo === 'video') {
      const video = document.createElement('video');
      video.src = archivoURL;
      video.controls = true;
      video.className = 'post-media';
      post.appendChild(video);
    }

    if(texto !== '') {
      const p = document.createElement('p');
      p.className = 'post-description';
      p.textContent = texto;
      post.appendChild(p);
    }

    // Añadir sección para comentarios vacía
    const commentsList = document.createElement('div');
    commentsList.className = 'comments-list';
    post.appendChild(commentsList);

    // Botón para simular añadir comentario (opcional)
    // Puedes extender para añadir funcionalidad real

    // Insertar al principio del feed
    feed.insertBefore(post, feed.firstChild);

    // Limpiar formulario
    textoPublicacion.value = '';
    archivoPublicacion.value = '';
    previewArchivo.innerHTML = '';
    archivoURL = null;
    tipoArchivo = null;
  });
</script>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Crear Publicación - Feisbuk</title>
<style>
  body {
    background: #121212;
    color: #eee;
    font-family: Arial, sans-serif;
    margin: 20px;
  }
  #crearPublicacion {
    background:#1e1e1e;
    padding:15px;
    border-radius:10px;
    margin-bottom: 20px;
    max-width: 600px;
  }
  #crearPublicacion h3 {
    margin-top: 0;
  }
  #textoPublicacion {
    width: 100%;
    border-radius: 8px;
    padding: 8px;
    resize: vertical;
    font-size: 14px;
    background: #333;
    border: none;
    color: #eee;
  }
  #archivoPublicacion {
    margin-top: 10px;
  }
  #previewArchivo img, #previewArchivo video {
    max-width: 100%;
    border-radius: 10px;
    margin-top: 10px;
  }
  #btnPublicar {
    margin-top: 10px;
    padding: 10px 20px;
    background: #0d47a1;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
  }
  #btnPublicar:hover {
    background: #1565c0;
  }
  #feed {
    max-width: 600px;
  }
  .post {
    background: #1e1e1e;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
  }
  .post-header {
    font-weight: bold;
    margin-bottom: 10px;
  }
  .post-media {
    border-radius: 10px;
    margin-bottom: 10px;
    max-width: 100%;
  }
  .post-description {
    white-space: pre-wrap;
  }
</style>
</head>
<body>

<section id="crearPublicacion">
  <h3>Crear Publicación</h3>
  <textarea id="textoPublicacion" rows="4" placeholder="¿Qué estás pensando?"></textarea>
  <input type="file" id="archivoPublicacion" accept="image/*,video/*" />
  <div id="previewArchivo"></div>
  <button id="btnPublicar">Publicar</button>
</section>

<section id="feed"></section>

<script>
  const textoPublicacion = document.getElementById('textoPublicacion');
  const archivoPublicacion = document.getElementById('archivoPublicacion');
  const previewArchivo = document.getElementById('previewArchivo');
  const btnPublicar = document.getElementById('btnPublicar');
  const feed = document.getElementById('feed');

  let archivoURL = null;
  let tipoArchivo = null;

  archivoPublicacion.addEventListener('change', () => {
    const file = archivoPublicacion.files[0];
    previewArchivo.innerHTML = '';
    archivoURL = null;
    tipoArchivo = null;
    if (file) {
      archivoURL = URL.createObjectURL(file);
      if (file.type.startsWith('image/')) {
        tipoArchivo = 'foto';
        const img = document.createElement('img');
        img.src = archivoURL;
        previewArchivo.appendChild(img);
      } else if (file.type.startsWith('video/')) {
        tipoArchivo = 'video';
        const video = document.createElement('video');
        video.src = archivoURL;
        video.controls = true;
        previewArchivo.appendChild(video);
      } else {
        previewArchivo.textContent = 'Archivo no soportado.';
      }
    }
  });

  btnPublicar.addEventListener('click', () => {
    const texto = textoPublicacion.value.trim();

    if (texto === '' && !archivoURL) {
      alert('Por favor escribe un texto o selecciona una foto/video para publicar.');
      return;
    }

    // Crear nuevo post
    const post = document.createElement('div');
    post.className = 'post';

    const header = document.createElement('div');
    header.className = 'post-header';
    header.textContent = 'Tú';
    post.appendChild(header);

    if (tipoArchivo === 'foto') {
      const img = document.createElement('img');
      img.src = archivoURL;
      img.alt = 'Foto subida';
      img.className = 'post-media';
      post.appendChild(img);
    } else if (tipoArchivo === 'video') {
      const video = document.createElement('video');
      video.src = archivoURL;
      video.controls = true;
      video.className = 'post-media';
      post.appendChild(video);
    }

    if (texto !== '') {
      const p = document.createElement('p');
      p.className = 'post-description';
      p.textContent = texto;
      post.appendChild(p);
    }

    // Añadir post al principio del feed
    feed.insertBefore(post, feed.firstChild);

    // Limpiar formulario
    textoPublicacion.value = '';
    archivoPublicacion.value = '';
    previewArchivo.innerHTML = '';
    archivoURL = null;
    tipoArchivo = null;
  });
</script>

</body>
</html>


const header = document.createElement('div');
header.className = 'post-header';
header.textContent = 'Fran Andrés Salvatierra Samur'; // Cambié aquí el nombre
post.appendChild(header);


<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Crear Publicación - Feisbuk</title>
<style>
  body {
    background: #121212;
    color: #eee;
    font-family: Arial, sans-serif;
    margin: 20px;
  }
  #crearPublicacion {
    background:#1e1e1e;
    padding:15px;
    border-radius:10px;
    margin-bottom: 20px;
    max-width: 600px;
  }
  #crearPublicacion h3 {
    margin-top: 0;
  }
  #textoPublicacion {
    width: 100%;
    border-radius: 8px;
    padding: 8px;
    resize: vertical;
    font-size: 14px;
    background: #333;
    border: none;
    color: #eee;
  }
  #archivoPublicacion {
    margin-top: 10px;
  }
  #previewArchivo img, #previewArchivo video {
    max-width: 100%;
    border-radius: 10px;
    margin-top: 10px;
  }
  #btnPublicar {
    margin-top: 10px;
    padding: 10px 20px;
    background: #0d47a1;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
  }
  #btnPublicar:hover {
    background: #1565c0;
  }
  #feed {
    max-width: 600px;
  }
  .post {
    background: #1e1e1e;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
  }
  .post-header {
    font-weight: bold;
    margin-bottom: 10px;
  }
  .post-media {
    border-radius: 10px;
    margin-bottom: 10px;
    max-width: 100%;
  }
  .post-description {
    white-space: pre-wrap;
  }
</style>
</head>
<body>

<section id="crearPublicacion">
  <h3>Crear Publicación</h3>
  <textarea id="textoPublicacion" rows="4" placeholder="¿Qué estás pensando?"></textarea>
  <input type="file" id="archivoPublicacion" accept="image/*,video/*" />
  <div id="previewArchivo"></div>
  <button id="btnPublicar">Publicar</button>
</section>

<section id="feed"></section>

<script>
  const textoPublicacion = document.getElementById('textoPublicacion');
  const archivoPublicacion = document.getElementById('archivoPublicacion');
  const previewArchivo = document.getElementById('previewArchivo');
  const btnPublicar = document.getElementById('btnPublicar');
  const feed = document.getElementById('feed');

  let archivoURL = null;
  let tipoArchivo = null;

  archivoPublicacion.addEventListener('change', () => {
    const file = archivoPublicacion.files[0];
    previewArchivo.innerHTML = '';
    archivoURL = null;
    tipoArchivo = null;
    if (file) {
      archivoURL = URL.createObjectURL(file);
      if (file.type.startsWith('image/')) {
        tipoArchivo = 'foto';
        const img = document.createElement('img');
        img.src = archivoURL;
        previewArchivo.appendChild(img);
      } else if (file.type.startsWith('video/')) {
        tipoArchivo = 'video';
        const video = document.createElement('video');
        video.src = archivoURL;
        video.controls = true;
        previewArchivo.appendChild(video);
      } else {
        previewArchivo.textContent = 'Archivo no soportado.';
      }
    }
  });

  btnPublicar.addEventListener('click', () => {
    const texto = textoPublicacion.value.trim();

    if (texto === '' && !archivoURL) {
      alert('Por favor escribe un texto o selecciona una foto/video para publicar.');
      return;
    }

    // Crear nuevo post
    const post = document.createElement('div');
    post.className = 'post';

    const header = document.createElement('div');
    header.className = 'post-header';
    header.textContent = 'Fran Andrés Salvatierra Samur'; // Aquí va tu nombre
    post.appendChild(header);

    if (tipoArchivo === 'foto') {
      const img = document.createElement('img');
      img.src = archivoURL;
      img.alt = 'Foto subida';
      img.className = 'post-media';
      post.appendChild(img);
    } else if (tipoArchivo === 'video') {
      const video = document.createElement('video');
      video.src = archivoURL;
      video.controls = true;
      video.className = 'post-media';
      post.appendChild(video);
    }

    if (texto !== '') {
      const p = document.createElement('p');
      p.className = 'post-description';
      p.textContent = texto;
      post.appendChild(p);
    }

    feed.insertBefore(post, feed.firstChild);

    // Limpiar formulario
    textoPublicacion.value = '';
    archivoPublicacion.value = '';
    previewArchivo.innerHTML = '';
    archivoURL = null;
    tipoArchivo = null;
  });
</script>

</body>
</html>
